package main // 定义程序包为 main

import (
	"fmt" // 导入格式化输出包，用于打印结果
)

// CountNonEmptySlots 计算一个分支节点中非空子节点的数量。
// 输入为一个十进制数，该数展开为16个二进制位，每个位为1表示对应槽位非空。
func CountNonEmptySlots(num int) int { // 定义函数，输入整数 num，返回非空槽位数量
	count := 0 // 初始化计数器，记录二进制中 1 的数量（非空槽位数）
	//=======请在下方补充代码=======
	for i := 0; i < 16; i++ { // 开始循环，i 从 0 到 15，逐一检查 num 的 16 位二进制表示的每一位
		// 检查第i位是否为1
		if (num & (1 << i)) != 0 { // 使用位运算检查 num 的第 i 位是否为 1（1 表示槽位非空）
			count++ // 如果第 i 位是 1，计数器加 1，表示找到一个非空槽位
		}
	}
	//=======请在上方补充代码=======
	return count // 返回非空槽位数量
}

func main() { // 主函数，测试代码逻辑
	// 测试用例
	testCases := []int{ // 定义测试用例切片，包含不同输入
		0,     // 0000 0000 0000 0000，所有槽位都为空
		65535, // 1111 1111 1111 1111，所有槽位都非空
		43690, // 1010 1010 1010 1010，8个槽位非空
		21845, // 0101 0101 0101 0101，8个槽位非空
		255,   // 0000 0000 1111 1111，8个槽位非空
		40960, // 1010 0000 0000 0000，2个槽位非空
		1,     // 0000 0000 0000 0001，1个槽位非空
		32768, // 1000 0000 0000 0000，1个槽位非空
	}

	for _, tc := range testCases { // 遍历测试用例
		fmt.Printf("输入: %d (二进制: %016b)\n", tc, tc) // 打印输入值及其 16 位二进制表示
		fmt.Printf("非空槽位数量: %d\n\n", CountNonEmptySlots(tc)) // 打印非空槽位数量
	}
}